{"ast":null,"code":"var _jsxFileName = \"/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trivia-react-redux/src/Pages/Game.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Gameplay from '../components/Gameplay';\nexport default class Game extends Component {\n  constructor() {\n    super();\n\n    this.handleTimer = prevState => {\n      const ZERO = 0;\n      const {\n        timer,\n        isDisabled\n      } = this.state;\n\n      if (prevState.timer !== timer && timer === ZERO) {\n        clearInterval(this.intervalId);\n        this.setState(() => ({\n          disable: true\n        }));\n\n        if (isDisabled) {\n          clearInterval(this.intervalId);\n        }\n      }\n    };\n\n    this.state = {\n      timer: 30,\n      isDisabled: false,\n      disable: false\n    };\n  }\n\n  componentDidMount() {\n    const ONE_SECOND = 1000;\n    this.intervalId = setInterval(() => {\n      this.setState(prev => ({\n        timer: prev.timer - 1\n      }));\n    }, ONE_SECOND);\n  }\n\n  componentDidUpdate(props, prevState) {\n    this.handleTimer(prevState);\n  }\n\n  render() {\n    const {\n      timer\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Gameplay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, timer), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.setState({\n        isDisabled: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, \"OK\"));\n  }\n\n}","map":{"version":3,"sources":["/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trivia-react-redux/src/Pages/Game.jsx"],"names":["React","Component","Header","Gameplay","Game","constructor","handleTimer","prevState","ZERO","timer","isDisabled","state","clearInterval","intervalId","setState","disable","componentDidMount","ONE_SECOND","setInterval","prev","componentDidUpdate","props","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,eAAe,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAC1CI,EAAAA,WAAW,GAAG;AACZ;;AADY,SAoBhBC,WApBgB,GAoBDC,SAAD,IAAe;AAC3B,YAAMC,IAAI,GAAG,CAAb;AACA,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAwB,KAAKC,KAAnC;;AACA,UAAIJ,SAAS,CAACE,KAAV,KAAoBA,KAApB,IAA6BA,KAAK,KAAKD,IAA3C,EAAiD;AAC/CI,QAAAA,aAAa,CAAC,KAAKC,UAAN,CAAb;AACA,aAAKC,QAAL,CAAc,OAAO;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAP,CAAd;;AACA,YAAIL,UAAJ,EAAgB;AACdE,UAAAA,aAAa,CAAC,KAAKC,UAAN,CAAb;AACD;AACF;AACF,KA9Be;;AAEZ,SAAKF,KAAL,GAAa;AACXF,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,UAAU,EAAE,KAFD;AAGXK,MAAAA,OAAO,EAAE;AAHE,KAAb;AAKD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,UAAU,GAAG,IAAnB;AACA,SAAKJ,UAAL,GAAkBK,WAAW,CAAC,MAAM;AAClC,WAAKJ,QAAL,CAAeK,IAAD,KAAW;AAAEV,QAAAA,KAAK,EAAEU,IAAI,CAACV,KAAL,GAAa;AAAtB,OAAX,CAAd;AACD,KAF4B,EAE1BQ,UAF0B,CAA7B;AAGD;;AAEDG,EAAAA,kBAAkB,CAACC,KAAD,EAAQd,SAAR,EAAmB;AACnC,SAAKD,WAAL,CAAiBC,SAAjB;AACD;;AAcHe,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEb,MAAAA;AAAF,QAAY,KAAKE,KAAvB;AACA,wBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,KAAJ,CAHF,eAIE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,OAAO,EAAG,MAAM,KAAKK,QAAL,CAAc;AAAEJ,QAAAA,UAAU,EAAE;AAAd,OAAd,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,CADF;AAcD;;AAjD2C","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Gameplay from '../components/Gameplay';\n\nexport default class Game extends Component {\n  constructor() {\n    super();\n    this.state = {\n      timer: 30,\n      isDisabled: false,\n      disable: false,\n    };\n  }\n\n  componentDidMount() {\n    const ONE_SECOND = 1000;\n    this.intervalId = setInterval(() => {\n      this.setState((prev) => ({ timer: prev.timer - 1 }));\n    }, ONE_SECOND);\n  }\n\n  componentDidUpdate(props, prevState) {\n    this.handleTimer(prevState);\n  }\n\nhandleTimer = (prevState) => {\n  const ZERO = 0;\n  const { timer, isDisabled } = this.state;\n  if (prevState.timer !== timer && timer === ZERO) {\n    clearInterval(this.intervalId);\n    this.setState(() => ({ disable: true }));\n    if (isDisabled) {\n      clearInterval(this.intervalId);\n    }\n  }\n}\n\nrender() {\n  const { timer } = this.state;\n  return (\n    <>\n      <Header />\n      <Gameplay />\n      <p>{timer}</p>\n      <button\n        type=\"button\"\n        onClick={ () => this.setState({ isDisabled: true }) }\n      >\n        OK\n\n      </button>\n    </>\n  );\n}\n}\n"]},"metadata":{},"sourceType":"module"}